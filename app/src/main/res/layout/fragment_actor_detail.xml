<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
	xmlns:app="http://schemas.android.com/apk/res-auto">

	<data>
		<import type="java.lang.reflect.Array" />
		<import type="org.alfonz.adapter.utility.BindingUtility" />
		<variable
			name="viewModel" type="com.strvacademy.drabekj.moviestrv.actordetailscreen.ActorDetailViewModel" />
		<variable
			name="view" type="com.strvacademy.drabekj.moviestrv.actordetailscreen.ActorDetailView" />
	</data>

	<org.alfonz.view.StatefulLayout
		android:layout_width="match_parent"
		android:layout_height="match_parent"
		app:progressLayout="@layout/placeholder_progress"
		app:offlineLayout="@layout/placeholder_offline"
		app:emptyLayout="@layout/placeholder_empty"
		app:state="@{viewModel.state}">


		<LinearLayout
			android:layout_width="match_parent"
			android:layout_height="wrap_content"
			android:orientation="vertical">

			<!--TOOLBAR + picture-->
			<FrameLayout
				android:layout_width="match_parent"
				android:layout_height="wrap_content">

				<ImageView
					android:layout_width="200dp"
					android:layout_height="wrap_content"
					android:layout_marginTop="50dp"
					android:layout_gravity="center"
					android:elevation="@dimen/global_elevation_8"
					android:adjustViewBounds="true"
					android:src="@drawable/dummy_actor_profile"
					android:contentDescription="@string/actor_profile_image" />

				<include layout="@layout/toolbar_actor_detail" />

			</FrameLayout>

			<!--content-->
			<LinearLayout
				android:layout_width="match_parent"
				android:layout_height="wrap_content"
				android:layout_margin="@dimen/global_spacing_16"
				android:orientation="vertical">

				<TextView
					android:layout_width="wrap_content"
					android:layout_height="wrap_content"
					android:layout_marginTop="@dimen/global_spacing_8"
					android:layout_marginBottom="@dimen/global_spacing_8"
					android:text="@{viewModel.actor.name}"
					style="@style/HeadingText" />

				<LinearLayout
					android:layout_width="wrap_content"
					android:layout_height="wrap_content"
					android:orientation="horizontal">

					<ImageView
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:src="@drawable/ic_event_white_24dp" />

					<TextView
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:layout_marginStart="@dimen/global_spacing_8"
						android:text="@{viewModel.actor.birthDate}"
						style="@style/SecondaryText" />

					<ImageView
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:layout_marginStart="@dimen/global_spacing_32"
						android:src="@drawable/ic_local_movies_white_24dp" />

					<TextView
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:layout_marginStart="@dimen/global_spacing_8"
						android:text="@{Integer.toString(viewModel.actor.moviesArray.length)}"
						style="@style/SecondaryText" />
				</LinearLayout>

				<TextView
					android:layout_width="wrap_content"
					android:layout_height="wrap_content"
					android:layout_marginTop="@dimen/global_spacing_8"
					android:text="@{viewModel.actor.description}"
					style="@style/SecondaryText" />

				<View
					android:layout_width="fill_parent"
					android:layout_height="1dip"
					android:layout_marginTop="@dimen/global_spacing_16"
					android:layout_marginBottom="@dimen/global_spacing_16"
					android:background="@color/colorLightGrey" />

				<!-- MOVIES (known for) -->
				<TextView
					android:layout_width="wrap_content"
					android:layout_height="wrap_content"
					android:text="@string/actor_detail_known_for_title"
					style="@style/SecondaryHeadingText" />

				<android.support.v7.widget.RecyclerView
					android:id="@+id/fragment_actor_detail_movie_list_recycler"
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					app:recyclerLayout="@{BindingUtility.LAYOUT_GRID_VERTICAL}"
					app:recyclerLayoutSpanCount="@{3}" />

				<Button
					android:text='@{String.format("VIEW ALL %d CREDITS", viewModel.actor.moviesArray.length)}'
					android:onClick="@{() -> view.onAllCreditsClick()}"
					style="@style/ViewAllButton" />
			</LinearLayout>
		</LinearLayout>

	</org.alfonz.view.StatefulLayout>

</layout>